<!DOCTYPE html>
	<head>
		<meta charset="UTF-8"> 
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge;IE=11;IE=10;IE=9;IE=8;" />
		<title>定值规则</title>
		<meta name="author" content="ip">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="../../../../trd/ip/css/reset.css" />
		<link rel="stylesheet" type="text/css" href="../../../../trd/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="../../../../trd/uui/css/font-awesome.min.css">
		<link rel="stylesheet" type="text/css" href="../../../../trd/uui/css/u.css" />
		<link rel="stylesheet" type="text/css" href="../../../../trd/uui/css/tree.css" />
		<link rel="stylesheet" type="text/css" href="../../../../trd/ip/changeTree/changeTree.css" />
		<link rel="stylesheet" type="text/css" href="../../../../trd/uui/css/grid.css" />
		<link rel="stylesheet" type="text/css" href="../../../../trd/ip/css/ip.css" />
		<link rel="stylesheet" type="text/css" href="../../../../trd/ip/css/platform.css" />
		<link rel="stylesheet" type="text/css" href="../ncrd.css" />
		<!--[if lte IE 9]>
		<link rel="stylesheet" type="text/css" href="../ncrd-ie9.css" />
	    <![endif]-->
</head>
	<body>
	<div id="list-page" class="container-fluid ncrd collapse in" style="height: 100%;">
		<!-- 按钮 -->
		<div class="row" style="height: 100%;">
			<div class="col-sm-4 col-md-4" style="height: 100%;">
				<div class="panel panel-default panel-body left-tree" style="height: 99%;">
					<div class="tree-search">
						<div class="input-group">
					      <input type="text" class="form-control" placeholder="请输入关键词" data-bind="value: treeKeyword">
					      <span class="input-group-btn">
					        <button class="btn btn-default" type="button"  data-bind="click: findTree">
					        	<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
					        </button>
					      </span>
					    </div><!-- /input-group -->
					</div>
					<!-- 左侧树 -->
                    <div class="ncrd left-tree-scroll">
						<div class="tree-root-div">
							<div class="tree-root-icon"></div>
							<span class="tree-root-label">要素定值规则</span>
						</div>
						<div id="treeTest2" class="ztree" u-meta='{"id":"tree2","data":"listDataTable","type":"tree","idField":"ele_rule_code","pidField":"ele_code","nameField":"title","setting":"treeSetting"}'></div>
					</div>
				</div>
			</div>

			<div class="col-sm-8 col-md-8" style="height: 100%;">
				<div class="row">
					<div class="col-md-12">
						<div class="panel panel-default panel-heading right-btngroup">
							<!-- 按钮组 -->							
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="" data-bind="click: newaddBtn">新增</button>
							<!-- button type="button" class="btn btn-primary" data-toggle="modal" data-target="" data-bind="click: updateBtn">修改</button-->
							<button type="button" class="btn btn-danger" data-toggle="modal" data-target="" data-bind="click: deleteBtn">删除</button>
							<button type="button" class="btn btn-primary" data-bind="click: setRule">设定规则</button>
							<button type="button" class="btn btn-primary" data-bind="click: cancelRule">取消规则</button>
						</div>
					</div>
				</div>
				<div class="row" style="height: calc(100% - 48px);">
					<div class="col-md-12" style=" height: 100%;">
						<div class="panel panel-default panel-body right-grid">
							<!--表格列表 -->
							<div style="height: 100%;" type="text"
							 u-meta='{"id":"write-grid","data":"gridDataTable","type":"grid","showNumCol":"true","editable":false,"columnMenu":true,"onRowFocus":"getSelectedEleRuleDeatilId"}'>
							<div options='{"field":"chr_code","dataType":"String","title":"要素编码","editType":"string","width": 200}'></div>
							<div options='{"field":"chr_name","dataType":"String","title":"要素名称","editType":"string","width": 200}'></div>
							<div options='{"field":"rule_name","dataType":"String","title":"对应规则","editType":"string","width": 200}'></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	
	
		
		<!-- 新增模态框 Modal-->
    	<div class="modal fade" id="addmyModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        	<div class="modal-dialog" role="document">
	            	<div class="modal-content">
	                	<div class="modal-header">
	                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	                    <h4 class="modal-title" id="myModalLabel">添加</h4>
	                </div>
	                <div class="modal-body">
							<form class="form-horizontal">
								<div class="form-group">
									<label  class="col-sm-4 control-label"><span
											style="font-size: 15px;color:red;">*</span>定值规则编码</label>
									<div class="col-sm-5">
										<input  type="text" class="form-control"  value="" id="entereleruleCode" maxlength="42"/>
									</div>
								</div>
								<div class="form-group">
									<label  class="col-sm-4 control-label">
										<span style="font-size: 15px;color:red;">*</span>定值规则名称</label>
									<div class="col-sm-5">
										<input type="text"  class="form-control" value="" id="entereleruleName" maxlength="60"/>
									</div>
								</div>
								<div class="form-group">
									<label  class="col-sm-4 control-label">定值要素</label>
									<div class="col-sm-5">
										<select class="form-control selectEle" id="selectEle"></select>
									</div>
								</div>
							</form>
	                </div>
	                <div class="modal-footer">
	                	<button type="button" class="btn btn-primary" data-bind="click: saveAddele">保存</button>
	                </div>
            	</div>
        	</div>
    	</div>

		<!-- 修改模态框 Modal-->
		<div class="modal fade" id="modifymyModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">修改</h4>
					</div>
					<div class="modal-body">
						<form class="form-horizontal">
							<div class="form-group">
								<label  class="col-sm-4 control-label">定值规则编码</label>
								<div class="col-sm-5">
									<input  class="form-control" value="" id="modifyeleCode" maxlength="42"  readonly/>
								</div>
							</div>
							<div class="form-group">
								<label  class="col-sm-4 control-label">定值规则名称</label>
								<div class="col-sm-5">
									<input class="form-control" value="" id="modifyeleName" maxlength="60"/>
								</div>
							</div>
							<div class="form-group">
								<label  class="col-sm-4 control-label">定值要素</label>
								<div class="col-sm-5">
									<select class="form-control selectmodifyEle" id="selectmodifyEle"  disabled="disabled"></select>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-bind="click: saveModify">保存</button>
					</div>
				</div>
			</div>
		</div>

		<!-- 删除模态框-->
		<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">确认删除</h4>
					</div>
					<div class="modal-body">
						<p>确定要删除这个定值规则吗？</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-bind="click: confirmDelete">确定</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>

					</div>
				</div>
			</div>
		</div>

		<!-- 未选择要素规则的提示 -->
		<div class="modal fade" id="promptModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">确认</h4>
					</div>
					<div class="modal-body">
						<p>请选择一个要素规则！</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-bind="click: confirmDetermine">确定</button>
					</div>
				</div>
			</div>
		</div>
		
		<!-- 取消规则模态框-->
		<div class="modal fade" id="cancelruleModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">确认取消</h4>
					</div>
					<div class="modal-body">
						<p>确定要取消 <span data-bind="text:ruleName"></span>这个定值规则吗？</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-bind="click: confirmCancel">确定</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>

					</div>
				</div>
			</div>
		</div>
	<!-- 提示信息弹窗 区-->
	<div>
		<div id="info-notice" class="info-notice" style="display: hide;">没有对应规则，不能取消</div>
	</div>
	</div>
	
	<!--定义设定规则div-->
	<div id="setRule-page" class="container-fluid ncrd collapse in">
	
	</div>
	<!-- 引入js-->
	<script src="../../../../trd/requirejs/require.debug.js"></script>
	<script src="../../../../require.config.js"></script>
	<script src="list.js" type="text/javascript"></script>
	</body>
</html>